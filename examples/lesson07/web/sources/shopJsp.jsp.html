<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <title>shopJsp.jsp</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" href="../res/code.css" type="text/css">
    <style type="text/css">
      <!--
      .ST6 {color: #0000e6; background-color: #e3f2e1}
      .ST4 {font-weight: bold}
      .ST7 {color: #009900; background-color: #e3f2e1}
      .ST10 {color: #009900}
      .scriptlet-delimiter {background-color: #e3f2e1}
      .ST11 {background-color: #e3f2e1; font-weight: bold}
      .ST13 {background-color: #e3f2e1; font-style: italic}
      .ST9 {color: #0000e6}
      .ST3 {color: #ce7b00; background-color: #e9eff8}
      .ST5 {color: #0000e6; font-weight: bold}
      .attribute-name {color: #009b00}
      .highlight-caret-row {background-color: #e9eff8}
      .ST0 {background-color: #e9eff8; font-weight: bold}
      .ST12 {color: #ce7b00; background-color: #e3f2e1}
      .ST8 {color: #628fb5}
      .ST1 {color: #0000e6; background-color: #e9eff8; font-weight: bold}
      .attribute-value {color: #ce7b00}
      .ST2 {color: #009b00; background-color: #e9eff8}
      -->
    </style>
  </head>
  <body>
    <script src="../res/jquery.js" type="text/javascript"></script>
    <script src="../res/jquery.tooltip.js" type="text/javascript"></script>
    <script src="../res/tooltip.js" type="text/javascript"></script>
    <p>
      <a href="../">Go back</a>
    </p>
    <table width="100%"><tr><td align="center">D:\labs\examples\lesson07\web\shopJsp.jsp</td></tr></table>
    <pre>
<span class="info" title="tt-pageDirectiveImport"><span class="ST0">&lt;%@</span><span class="ST1">page</span> <span class="ST2">import</span><span class="ST0">=</span><span class="ST3">&quot;</span><span class="highlight-caret-row">java</span><span class="highlight-caret-row">.</span><span class="highlight-caret-row">util</span><span class="highlight-caret-row">.</span><span class="highlight-caret-row">List</span><span class="ST3">&quot;</span><span class="ST0">%&gt;</span>
<span class="ST4">&lt;%@</span><span class="ST5">page</span> <span class="attribute-name">import</span><span class="ST4">=</span><span class="attribute-value">&quot;</span>com.examples.lesson07.model.Product<span class="attribute-value">&quot;</span><span class="ST4">%&gt;</span>
<span class="ST4">&lt;%@</span><span class="ST5">page</span> <span class="attribute-name">import</span><span class="ST4">=</span><span class="attribute-value">&quot;</span>com.examples.lesson07.model.ProductCategory<span class="attribute-value">&quot;</span><span class="ST4">%&gt;</span>
<span class="ST4">&lt;%@</span><span class="ST5">page</span> <span class="attribute-name">import</span><span class="ST4">=</span><span class="attribute-value">&quot;</span>com.examples.lesson07.services.ProductServices<span class="attribute-value">&quot;</span><span class="ST4">%&gt;</span>
<span class="ST4">&lt;%@</span><span class="ST5">page</span> <span class="attribute-name">import</span><span class="ST4">=</span><span class="attribute-value">&quot;</span>com.examples.lesson07.services.ProductServicesImpl<span class="attribute-value">&quot;</span><span class="ST4">%&gt;</span>
<span class="ST4">&lt;%@</span><span class="ST5">page</span> <span class="attribute-name">import</span><span class="ST4">=</span><span class="attribute-value">&quot;</span>com.examples.lesson07.model.ShoppingCart<span class="attribute-value">&quot;</span><span class="ST4">%&gt;</span></span>
<span class="info" title="tt-pageDirectiveContent"><span class="ST4">&lt;%@</span><span class="ST5">page</span> <span class="attribute-name">contentType</span><span class="ST4">=</span><span class="attribute-value">&quot;text/html&quot;</span> <span class="attribute-name">pageEncoding</span><span class="ST4">=</span><span class="attribute-value">&quot;UTF-8&quot;</span><span class="ST4">%&gt;</span></span>
<span class="info" title="tt-instanceScriptlet-1"><span class="scriptlet-delimiter">&lt;%!</span>  <span class="ST6">private</span> <span class="scriptlet-delimiter">ProductServices</span> <span class="ST7">productServices</span> <span class="scriptlet-delimiter">=</span> <span class="ST6">new</span> <span class="scriptlet-delimiter">ProductServicesImpl</span><span class="scriptlet-delimiter">(</span><span class="scriptlet-delimiter">)</span><span class="scriptlet-delimiter">;</span><span class="scriptlet-delimiter">%&gt;</span></span>
<span class="info" title="tt-niceHtml"><span class="ST8">&lt;!DOCTYPE</span> <span class="ST8">html</span><span class="ST8">&gt;</span>
<span class="ST9">&lt;</span><span class="ST9">html</span><span class="ST9">&gt;</span>
  <span class="ST9">&lt;</span><span class="ST9">head</span><span class="ST9">&gt;</span>
    <span class="ST9">&lt;</span><span class="ST9">meta</span> <span class="ST10">http-equiv</span><span class="ST10">=</span><span class="attribute-value">&quot;Content-Type&quot;</span> <span class="ST10">content</span><span class="ST10">=</span><span class="attribute-value">&quot;text/html; charset=UTF-8&quot;</span><span class="ST9">&gt;</span>
    <span class="ST9">&lt;</span><span class="ST9">link</span> <span class="ST10">rel</span><span class="ST10">=</span><span class="attribute-value">&quot;stylesheet&quot;</span> <span class="ST10">href</span><span class="ST10">=</span><span class="attribute-value">&quot;res/styles.css&quot;</span> <span class="ST10">type</span><span class="ST10">=</span><span class="attribute-value">&quot;text/css&quot;</span><span class="ST9">/&gt;</span>
    <span class="ST9">&lt;</span><span class="ST9">title</span><span class="ST9">&gt;</span>Shop<span class="ST9">&lt;/</span><span class="ST9">title</span><span class="ST9">&gt;</span>
  <span class="ST9">&lt;/</span><span class="ST9">head</span><span class="ST9">&gt;</span></span>
<span class="info" title="tt-scriptlet-1">  <span class="scriptlet-delimiter">&lt;%</span>
    <span class="scriptlet-delimiter">ShoppingCart</span> <span class="scriptlet-delimiter">shoppingCart</span> <span class="scriptlet-delimiter">=</span> <span class="scriptlet-delimiter">getShoppingCart</span><span class="scriptlet-delimiter">(</span><span class="scriptlet-delimiter">session</span><span class="scriptlet-delimiter">)</span><span class="scriptlet-delimiter">;</span>
    <span class="scriptlet-delimiter">addOrRemoveItems</span><span class="scriptlet-delimiter">(</span><span class="scriptlet-delimiter">shoppingCart</span><span class="scriptlet-delimiter">,</span> <span class="scriptlet-delimiter">request</span><span class="scriptlet-delimiter">)</span><span class="scriptlet-delimiter">;</span>
  <span class="scriptlet-delimiter">%&gt;</span></span>
<span class="info" title="tt-niceHtml">  <span class="ST9">&lt;</span><span class="ST9">body</span><span class="ST9">&gt;</span>
    <span class="ST9">&lt;</span><span class="ST9">h1</span><span class="ST9">&gt;</span>Shop List<span class="ST9">&lt;/</span><span class="ST9">h1</span><span class="ST9">&gt;</span>
    <span class="ST9">&lt;</span><span class="ST9">table</span><span class="ST9">&gt;</span>
      <span class="ST9">&lt;</span><span class="ST9">thead</span><span class="ST9">&gt;</span>
        <span class="ST9">&lt;</span><span class="ST9">tr</span><span class="ST9">&gt;</span>
          <span class="ST9">&lt;</span><span class="ST9">th</span><span class="ST9">&gt;</span>+<span class="ST9">&lt;/</span><span class="ST9">th</span><span class="ST9">&gt;</span>
          <span class="ST9">&lt;</span><span class="ST9">th</span><span class="ST9">&gt;</span>-<span class="ST9">&lt;/</span><span class="ST9">th</span><span class="ST9">&gt;</span>
          <span class="ST9">&lt;</span><span class="ST9">th</span><span class="ST9">&gt;</span>Product<span class="ST9">&lt;/</span><span class="ST9">th</span><span class="ST9">&gt;</span>
          <span class="ST9">&lt;</span><span class="ST9">th</span><span class="ST9">&gt;</span>Price<span class="ST9">&lt;/</span><span class="ST9">th</span><span class="ST9">&gt;</span>
          <span class="ST9">&lt;</span><span class="ST9">th</span><span class="ST9">&gt;</span>Qty<span class="ST9">&lt;/</span><span class="ST9">th</span><span class="ST9">&gt;</span>
          <span class="ST9">&lt;</span><span class="ST9">th</span><span class="ST9">&gt;</span>Total<span class="ST9">&lt;/</span><span class="ST9">th</span><span class="ST9">&gt;</span>
        <span class="ST9">&lt;/</span><span class="ST9">tr</span><span class="ST9">&gt;</span>
      <span class="ST9">&lt;/</span><span class="ST9">thead</span><span class="ST9">&gt;</span>
      <span class="ST9">&lt;</span><span class="ST9">tbody</span><span class="ST9">&gt;</span></span>
<span class="info" title="tt-scriptlet">        <span class="scriptlet-delimiter">&lt;%</span>
          <span class="scriptlet-delimiter">List</span><span class="scriptlet-delimiter">&lt;</span><span class="scriptlet-delimiter">ProductCategory</span><span class="scriptlet-delimiter">&gt;</span> <span class="scriptlet-delimiter">allProductsByCategory</span> <span class="scriptlet-delimiter">=</span> <span class="scriptlet-delimiter">productServices</span><span class="scriptlet-delimiter">.</span><span class="scriptlet-delimiter">getAllProductsByCategory</span><span class="scriptlet-delimiter">(</span><span class="scriptlet-delimiter">)</span><span class="scriptlet-delimiter">;</span>
          <span class="info" title="tt-splitFor"><span class="ST6">for</span> <span class="scriptlet-delimiter">(</span><span class="scriptlet-delimiter">ProductCategory</span> <span class="scriptlet-delimiter">category</span> <span class="scriptlet-delimiter">:</span> <span class="scriptlet-delimiter">allProductsByCategory</span><span class="scriptlet-delimiter">)</span> <span class="scriptlet-delimiter">{</span></span>
        <span class="scriptlet-delimiter">%&gt;</span></span>
        <span class="ST9">&lt;</span><span class="ST9">tr</span><span class="ST9">&gt;</span>
          <span class="ST9">&lt;</span><span class="ST9">td</span> <span class="ST10">colspan</span><span class="ST10">=</span><span class="attribute-value">&quot;6&quot;</span><span class="ST9">&gt;</span><span class="info" title="tt-expression"><span class="scriptlet-delimiter">&lt;%=</span><span class="scriptlet-delimiter">category</span><span class="scriptlet-delimiter">.</span><span class="scriptlet-delimiter">getName</span><span class="scriptlet-delimiter">(</span><span class="scriptlet-delimiter">)</span><span class="scriptlet-delimiter">%&gt;</span></span><span class="ST9">&lt;/</span><span class="ST9">td</span><span class="ST9">&gt;</span>
        <span class="ST9">&lt;/</span><span class="ST9">tr</span><span class="ST9">&gt;</span>
<span class="info" title="tt-splitFor">        <span class="scriptlet-delimiter">&lt;%</span> <span class="ST6">for</span> <span class="scriptlet-delimiter">(</span><span class="scriptlet-delimiter">Product</span> <span class="scriptlet-delimiter">product</span> <span class="scriptlet-delimiter">:</span> <span class="scriptlet-delimiter">category</span><span class="scriptlet-delimiter">.</span><span class="scriptlet-delimiter">getProducts</span><span class="scriptlet-delimiter">(</span><span class="scriptlet-delimiter">)</span><span class="scriptlet-delimiter">)</span> <span class="scriptlet-delimiter">{</span><span class="scriptlet-delimiter">%&gt;</span></span>
        <span class="ST9">&lt;</span><span class="ST9">tr</span><span class="ST9">&gt;</span>
          <span class="ST9">&lt;</span><span class="ST9">td</span><span class="ST9">&gt;</span>[<span class="ST9">&lt;</span><span class="ST9">a</span> <span class="ST10">href</span><span class="ST10">=</span><span class="attribute-value">&quot;shopJsp.jsp?action=add&amp;productId=</span><span class="info" title="tt-expression"><span class="scriptlet-delimiter">&lt;%=</span><span class="scriptlet-delimiter">product</span><span class="scriptlet-delimiter">.</span><span class="scriptlet-delimiter">getId</span><span class="scriptlet-delimiter">(</span><span class="scriptlet-delimiter">)</span><span class="scriptlet-delimiter">%&gt;</span></span><span class="attribute-value">&quot;</span><span class="ST9">&gt;</span>+<span class="ST9">&lt;/</span><span class="ST9">a</span><span class="ST9">&gt;</span>]<span class="ST9">&lt;/</span><span class="ST9">td</span><span class="ST9">&gt;</span>
          <span class="ST9">&lt;</span><span class="ST9">td</span><span class="ST9">&gt;</span>[<span class="ST9">&lt;</span><span class="ST9">a</span> <span class="ST10">href</span><span class="ST10">=</span><span class="attribute-value">&quot;shopJsp.jsp?action=remove&amp;productId=</span><span class="info" title="tt-expression"><span class="scriptlet-delimiter">&lt;%=</span><span class="scriptlet-delimiter">product</span><span class="scriptlet-delimiter">.</span><span class="scriptlet-delimiter">getId</span><span class="scriptlet-delimiter">(</span><span class="scriptlet-delimiter">)</span><span class="scriptlet-delimiter">%&gt;</span></span><span class="attribute-value">&quot;</span><span class="ST9">&gt;</span>-<span class="ST9">&lt;/</span><span class="ST9">a</span><span class="ST9">&gt;</span>]<span class="ST9">&lt;/</span><span class="ST9">td</span><span class="ST9">&gt;</span>
          <span class="ST9">&lt;</span><span class="ST9">td</span><span class="ST9">&gt;</span><span class="info" title="tt-expression"><span class="scriptlet-delimiter">&lt;%=</span><span class="scriptlet-delimiter">product</span><span class="scriptlet-delimiter">.</span><span class="scriptlet-delimiter">getName</span><span class="scriptlet-delimiter">(</span><span class="scriptlet-delimiter">)</span><span class="scriptlet-delimiter">%&gt;</span></span><span class="ST9">&lt;/</span><span class="ST9">td</span><span class="ST9">&gt;</span>
          <span class="ST9">&lt;</span><span class="ST9">td</span><span class="ST9">&gt;</span><span class="info" title="tt-expression"><span class="scriptlet-delimiter">&lt;%=</span><span class="scriptlet-delimiter">product</span><span class="scriptlet-delimiter">.</span><span class="scriptlet-delimiter">getPrice</span><span class="scriptlet-delimiter">(</span><span class="scriptlet-delimiter">)</span><span class="scriptlet-delimiter">%&gt;</span></span><span class="ST9">&lt;/</span><span class="ST9">td</span><span class="ST9">&gt;</span>
<span class="info" title="tt-compositeGet">          <span class="scriptlet-delimiter">&lt;%</span> <span class="ST6">int</span> <span class="scriptlet-delimiter">quantity</span> <span class="scriptlet-delimiter">=</span> <span class="scriptlet-delimiter">shoppingCart</span><span class="scriptlet-delimiter">.</span><span class="scriptlet-delimiter">getQuantity</span><span class="scriptlet-delimiter">(</span><span class="scriptlet-delimiter">product</span><span class="scriptlet-delimiter">.</span><span class="scriptlet-delimiter">getId</span><span class="scriptlet-delimiter">(</span><span class="scriptlet-delimiter">)</span><span class="scriptlet-delimiter">)</span><span class="scriptlet-delimiter">;</span><span class="scriptlet-delimiter">%&gt;</span></span>
          <span class="ST9">&lt;</span><span class="ST9">td</span><span class="ST9">&gt;</span><span class="info" title="tt-expression"><span class="scriptlet-delimiter">&lt;%=</span><span class="scriptlet-delimiter">quantity</span><span class="scriptlet-delimiter">%&gt;</span></span><span class="ST9">&lt;/</span><span class="ST9">td</span><span class="ST9">&gt;</span>
<span class="info" title="tt-compositeGet">          <span class="scriptlet-delimiter">&lt;%</span> <span class="ST6">double</span> <span class="scriptlet-delimiter">totalPrice</span> <span class="scriptlet-delimiter">=</span> <span class="scriptlet-delimiter">product</span><span class="scriptlet-delimiter">.</span><span class="scriptlet-delimiter">getPrice</span><span class="scriptlet-delimiter">(</span><span class="scriptlet-delimiter">)</span> <span class="scriptlet-delimiter">*</span> <span class="scriptlet-delimiter">quantity</span><span class="scriptlet-delimiter">;</span><span class="scriptlet-delimiter">%&gt;</span></span>
          <span class="ST9">&lt;</span><span class="ST9">td</span><span class="ST9">&gt;</span><span class="info" title="tt-expression"><span class="scriptlet-delimiter">&lt;%=</span><span class="scriptlet-delimiter">totalPrice</span><span class="scriptlet-delimiter">%&gt;</span></span><span class="ST9">&lt;/</span><span class="ST9">td</span><span class="ST9">&gt;</span>
        <span class="ST9">&lt;/</span><span class="ST9">tr</span><span class="ST9">&gt;</span>
<span class="info" title="tt-splitFor">        <span class="scriptlet-delimiter">&lt;%</span><span class="scriptlet-delimiter">}</span><span class="scriptlet-delimiter">%&gt;</span>
        <span class="scriptlet-delimiter">&lt;%</span><span class="scriptlet-delimiter">}</span><span class="scriptlet-delimiter">%&gt;</span></span>
      <span class="ST9">&lt;/</span><span class="ST9">tbody</span><span class="ST9">&gt;</span>
    <span class="ST9">&lt;/</span><span class="ST9">table</span><span class="ST9">&gt;</span>
  <span class="ST9">&lt;/</span><span class="ST9">body</span><span class="ST9">&gt;</span>
<span class="ST9">&lt;/</span><span class="ST9">html</span><span class="ST9">&gt;</span>
<span class="info" title="tt-instanceScriptlet"><span class="scriptlet-delimiter">&lt;%!</span>  
<span class="info" title="tt-methods">    <span class="ST6">private</span> <span class="scriptlet-delimiter">ShoppingCart</span> <span class="ST11">getShoppingCart</span><span class="scriptlet-delimiter">(</span><span class="scriptlet-delimiter">HttpSession</span> <span class="scriptlet-delimiter">session</span><span class="scriptlet-delimiter">)</span> <span class="scriptlet-delimiter">{</span>
    <span class="scriptlet-delimiter">ShoppingCart</span> <span class="scriptlet-delimiter">shoppingCart</span> <span class="scriptlet-delimiter">=</span> <span class="scriptlet-delimiter">(</span><span class="scriptlet-delimiter">ShoppingCart</span><span class="scriptlet-delimiter">)</span> <span class="scriptlet-delimiter">session</span><span class="scriptlet-delimiter">.</span><span class="scriptlet-delimiter">getAttribute</span><span class="scriptlet-delimiter">(</span><span class="ST12">&quot;</span><span class="ST12">shoppingCart</span><span class="ST12">&quot;</span><span class="scriptlet-delimiter">)</span><span class="scriptlet-delimiter">;</span>
    <span class="ST6">if</span> <span class="scriptlet-delimiter">(</span><span class="scriptlet-delimiter">shoppingCart</span> <span class="scriptlet-delimiter">==</span> <span class="ST6">null</span><span class="scriptlet-delimiter">)</span> <span class="scriptlet-delimiter">{</span>
      <span class="scriptlet-delimiter">shoppingCart</span> <span class="scriptlet-delimiter">=</span> <span class="ST6">new</span> <span class="scriptlet-delimiter">ShoppingCart</span><span class="scriptlet-delimiter">(</span><span class="scriptlet-delimiter">)</span><span class="scriptlet-delimiter">;</span>
      <span class="scriptlet-delimiter">session</span><span class="scriptlet-delimiter">.</span><span class="scriptlet-delimiter">setAttribute</span><span class="scriptlet-delimiter">(</span><span class="ST12">&quot;</span><span class="ST12">shoppingCart</span><span class="ST12">&quot;</span><span class="scriptlet-delimiter">,</span> <span class="scriptlet-delimiter">shoppingCart</span><span class="scriptlet-delimiter">)</span><span class="scriptlet-delimiter">;</span>
    <span class="scriptlet-delimiter">}</span>
    <span class="ST6">return</span> <span class="scriptlet-delimiter">shoppingCart</span><span class="scriptlet-delimiter">;</span>
  <span class="scriptlet-delimiter">}</span></span>

<span class="info" title="tt-methods">  <span class="ST6">private</span> <span class="ST6">void</span> <span class="ST11">addOrRemoveItems</span><span class="scriptlet-delimiter">(</span><span class="scriptlet-delimiter">ShoppingCart</span> <span class="scriptlet-delimiter">shoppingCart</span><span class="scriptlet-delimiter">,</span> <span class="scriptlet-delimiter">HttpServletRequest</span> <span class="scriptlet-delimiter">request</span><span class="scriptlet-delimiter">)</span> <span class="scriptlet-delimiter">{</span>
    <span class="scriptlet-delimiter">String</span> <span class="scriptlet-delimiter">action</span> <span class="scriptlet-delimiter">=</span> <span class="scriptlet-delimiter">request</span><span class="scriptlet-delimiter">.</span><span class="scriptlet-delimiter">getParameter</span><span class="scriptlet-delimiter">(</span><span class="ST12">&quot;</span><span class="ST12">action</span><span class="ST12">&quot;</span><span class="scriptlet-delimiter">)</span><span class="scriptlet-delimiter">;</span>
    <span class="ST6">try</span> <span class="scriptlet-delimiter">{</span>
      <span class="ST6">int</span> <span class="scriptlet-delimiter">productId</span> <span class="scriptlet-delimiter">=</span> <span class="scriptlet-delimiter">Integer</span><span class="scriptlet-delimiter">.</span><span class="ST13">parseInt</span><span class="scriptlet-delimiter">(</span><span class="scriptlet-delimiter">request</span><span class="scriptlet-delimiter">.</span><span class="scriptlet-delimiter">getParameter</span><span class="scriptlet-delimiter">(</span><span class="ST12">&quot;</span><span class="ST12">productId</span><span class="ST12">&quot;</span><span class="scriptlet-delimiter">)</span><span class="scriptlet-delimiter">)</span><span class="scriptlet-delimiter">;</span>
      <span class="ST6">if</span> <span class="scriptlet-delimiter">(</span><span class="ST12">&quot;</span><span class="ST12">add</span><span class="ST12">&quot;</span><span class="scriptlet-delimiter">.</span><span class="scriptlet-delimiter">equals</span><span class="scriptlet-delimiter">(</span><span class="scriptlet-delimiter">action</span><span class="scriptlet-delimiter">)</span><span class="scriptlet-delimiter">)</span> <span class="scriptlet-delimiter">{</span>
        <span class="scriptlet-delimiter">shoppingCart</span><span class="scriptlet-delimiter">.</span><span class="scriptlet-delimiter">add</span><span class="scriptlet-delimiter">(</span><span class="scriptlet-delimiter">productId</span><span class="scriptlet-delimiter">)</span><span class="scriptlet-delimiter">;</span>
      <span class="scriptlet-delimiter">}</span>
      <span class="ST6">if</span> <span class="scriptlet-delimiter">(</span><span class="ST12">&quot;</span><span class="ST12">remove</span><span class="ST12">&quot;</span><span class="scriptlet-delimiter">.</span><span class="scriptlet-delimiter">equals</span><span class="scriptlet-delimiter">(</span><span class="scriptlet-delimiter">action</span><span class="scriptlet-delimiter">)</span><span class="scriptlet-delimiter">)</span> <span class="scriptlet-delimiter">{</span>
        <span class="scriptlet-delimiter">shoppingCart</span><span class="scriptlet-delimiter">.</span><span class="scriptlet-delimiter">remove</span><span class="scriptlet-delimiter">(</span><span class="scriptlet-delimiter">productId</span><span class="scriptlet-delimiter">)</span><span class="scriptlet-delimiter">;</span>
      <span class="scriptlet-delimiter">}</span>
    <span class="scriptlet-delimiter">}</span> <span class="ST6">catch</span> <span class="scriptlet-delimiter">(</span><span class="scriptlet-delimiter">Exception</span> <span class="scriptlet-delimiter">e</span><span class="scriptlet-delimiter">)</span> <span class="scriptlet-delimiter">{</span>
    <span class="scriptlet-delimiter">}</span>
  <span class="scriptlet-delimiter">}</span></span>
  </span>
<span class="scriptlet-delimiter">%&gt;</span></span>
  </pre>
  <div id="tt-niceHtml">
    This is plain HTML code. It is easier to maintain in a JSP than in a Java servlet.
  </div>
  <div id="tt-pageDirectiveImport">
    JSP are converted to a Java servlet. To declare imports, use the &lt;%@page import directive.
    This tells the JSP compiler to include the imported classes in the imports for the resulting servlet.
  </div>
  <div id="tt-pageDirectiveContent">
    The &lt;%@page directive may contain more elements for defining the contentType HTTP header and the page encoding.
  </div>
  <div id="tt-scriptlet-1">This is a Java scriptlet. A Java scriptlet is a piece of Java code inside a JSP page. This code its included and executed at this point in the page.<br>
    Some variables that might be frequently used are already inside the scriptlets. In this case, use the request (the HttpServletRequest variable) and session (the result from calling request.getSession()) variables.
    Valid Java code may be placed inside an scriptlet. In this case, the Shopping cart from the session is received and the addOrRemoveItems method that belongs to this JSP is called.<br>
    Methods are defined inside &lt;%! instance scriptlets.</div>
  <div id="tt-scriptlet">This is a Java scriptlet. Any valid Java code is allowed inside scriptlets.</div>
  <div id="tt-instanceScriptlet-1">Instance variables in this JSP are declared (translated into a servlet) in the &lt;%! instance tag.<br>
    Note that the JSP does not use CDI injection. Dependency Injection inside JSP is not encouraged and should not be done. It is not guaranteed that all server implementations experience the same behavior.</div>
  <div id="tt-instanceScriptlet">The &lt;%! tag tells the JSP compiler that the code inside belongs to the class instance. In this tag, methods and instance variables can be declared. Note how the methods in the servlet can be coded as usual.<br>
    Although possible, it is not recommended to do this since Java code is hard to maintain.</div>
  <div id="tt-expression">This is a Java Servlet Pages Expression. This expression calculates a value that is printed in the page.</div>
  <div id="tt-splitFor">For loops may be used inside Java scriptlets. Note that bracers { } are in different scriptlet blocks. This is valid as long as there is a closing bracer for each opening one.<br>
    This makes the Java code inside JSP hard to read.</div>
  <div id="tt-compositeGet">Just like in a servlet, these values are calculated prior display and printed out using expressions.</div>
  <div id="tt-methods">This methods are copied from the servlet.</div>
  <p>
    <a href="../">Go back</a>
  </p>
</body>
</html>
