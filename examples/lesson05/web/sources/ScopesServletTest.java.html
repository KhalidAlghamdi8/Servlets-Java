<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <title>ScopesServletTest.java</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" href="../res/code.css" type="text/css">
    <style type="text/css">
      <!--
      .ST0 {font-weight: bold}
      .ST1 {color: #ce7b00; font-weight: bold}
      .character {color: #ce7b00}
      .keyword-directive {color: #0000e6}
      .xml-attribute {color: #009900}
      .xml-value {color: #ce7b00}
      .xml-tag {color: #0000e6}
      -->
    </style>
  </head>
  <body>
    <script src="../res/jquery.js" type="text/javascript"></script>
    <script src="../res/jquery.tooltip.js" type="text/javascript"></script>
    <script src="../res/tooltip.js" type="text/javascript"></script>
    <p>
      <a href="../">Go back</a>
    </p>
    <table width="100%"><tr><td align="center">D:\labs\examples\lesson05\src\java\com\examples\lesson05\ScopesServletTest.java</td></tr></table>
    <pre>
<span class="info" title="tt-overview"><span class="keyword-directive">package</span> com.examples.lesson05;

<span class="keyword-directive">import</span> java.io.IOException;
<span class="keyword-directive">import</span> java.io.PrintWriter;
<span class="keyword-directive">import</span> javax.servlet.ServletException;
<span class="keyword-directive">import</span> javax.servlet.annotation.WebInitParam;
<span class="keyword-directive">import</span> javax.servlet.annotation.WebServlet;
<span class="keyword-directive">import</span> javax.servlet.http.HttpServlet;
<span class="keyword-directive">import</span> javax.servlet.http.HttpServletRequest;
<span class="keyword-directive">import</span> javax.servlet.http.HttpServletResponse;

@WebServlet(name = <span class="character">&quot;</span><span class="character">ScopesServletTest</span><span class="character">&quot;</span>, urlPatterns = {<span class="character">&quot;</span><span class="character">/ScopesServletTest</span><span class="character">&quot;</span>},
initParams = {
  @WebInitParam(name = <span class="character">&quot;</span><span class="character">name</span><span class="character">&quot;</span>, value = <span class="character">&quot;</span><span class="character">servletConfig</span><span class="character">&quot;</span>)
})
<span class="keyword-directive">public</span> <span class="keyword-directive">class</span> <span class="ST0">ScopesServletTest</span> <span class="keyword-directive">extends</span> HttpServlet {
</span>
  @Override
  <span class="keyword-directive">public</span> <span class="keyword-directive">void</span> <span class="ST0">doGet</span>(HttpServletRequest request, HttpServletResponse response)
          <span class="keyword-directive">throws</span> ServletException, IOException {
<span class="info" title="tt-requestSet">    request.setAttribute(<span class="character">&quot;</span><span class="character">name</span><span class="character">&quot;</span>, <span class="character">&quot;</span><span class="character">John</span><span class="character">&quot;</span>);</span>
<span class="info" title="tt-sessionSet">    request.getSession().setAttribute(<span class="character">&quot;</span><span class="character">name</span><span class="character">&quot;</span>, <span class="character">&quot;</span><span class="character">Paul</span><span class="character">&quot;</span>);</span>
<span class="info" title="tt-contextSet">    getServletContext().setAttribute(<span class="character">&quot;</span><span class="character">name</span><span class="character">&quot;</span>, <span class="character">&quot;</span><span class="character">Steve</span><span class="character">&quot;</span>);</span>


    response.setContentType(<span class="character">&quot;</span><span class="character">text/html;charset=UTF-8</span><span class="character">&quot;</span>);
    PrintWriter out = response.getWriter();
    out.println(<span class="character">&quot;</span><span class="character">&lt;html&gt;</span><span class="character">&quot;</span>);
    out.println(<span class="character">&quot;</span><span class="character">&lt;head&gt;</span><span class="character">&quot;</span>);
    out.println(<span class="character">&quot;</span><span class="character">&lt;title&gt;Servlet ScopesServletTest&lt;/title&gt;</span><span class="character">&quot;</span>);
    out.println(<span class="character">&quot;</span><span class="character">&lt;link rel=</span><span class="ST1">\&quot;</span><span class="character">stylesheet</span><span class="ST1">\&quot;</span><span class="character"> href=</span><span class="ST1">\&quot;</span><span class="character">res/styles.css</span><span class="ST1">\&quot;</span><span class="character"> type=</span><span class="ST1">\&quot;</span><span class="character">text/css</span><span class="ST1">\&quot;</span><span class="character">/&gt;</span><span class="character">&quot;</span>);
    out.println(<span class="character">&quot;</span><span class="character">&lt;/head&gt;</span><span class="character">&quot;</span>);
    out.println(<span class="character">&quot;</span><span class="character">&lt;body&gt;</span><span class="character">&quot;</span>);
    out.println(<span class="character">&quot;</span><span class="character">&lt;h1&gt;Scopes&lt;/h1&gt;</span><span class="character">&quot;</span>);
    out.println(<span class="character">&quot;</span><span class="character">&lt;table&gt;</span><span class="character">&quot;</span>);
    out.println(<span class="character">&quot;</span><span class="character">&lt;thead&gt;</span><span class="character">&quot;</span>);

    out.println(<span class="character">&quot;</span><span class="character">&lt;tr&gt;</span><span class="character">&quot;</span>);
    out.println(<span class="character">&quot;</span><span class="character">&lt;th&gt;Scope&lt;/th&gt;</span><span class="character">&quot;</span>);
    out.println(<span class="character">&quot;</span><span class="character">&lt;th&gt;Value&lt;/th&gt;</span><span class="character">&quot;</span>);
    out.println(<span class="character">&quot;</span><span class="character">&lt;th&gt;How to set it?&lt;/th&gt;</span><span class="character">&quot;</span>);
    out.println(<span class="character">&quot;</span><span class="character">&lt;/tr&gt;</span><span class="character">&quot;</span>);
    out.println(<span class="character">&quot;</span><span class="character">&lt;/thead&gt;</span><span class="character">&quot;</span>);

    out.println(<span class="character">&quot;</span><span class="character">&lt;tr&gt;</span><span class="character">&quot;</span>);
    out.println(<span class="character">&quot;</span><span class="character">&lt;td&gt;request.getParameter(</span><span class="ST1">\&quot;</span><span class="character">name</span><span class="ST1">\&quot;</span><span class="character">)&lt;/td&gt;</span><span class="character">&quot;</span>);
<span class="info" title="tt-requestGetParameter">    out.println(<span class="character">&quot;</span><span class="character">&lt;td&gt;</span><span class="character">&quot;</span> + request.getParameter(<span class="character">&quot;</span><span class="character">name</span><span class="character">&quot;</span>) + <span class="character">&quot;</span><span class="character">&lt;/td&gt;</span><span class="character">&quot;</span>);</span>
    out.println(<span class="character">&quot;</span><span class="character">&lt;td&gt;Sent from forms or url.&lt;/td&gt;</span><span class="character">&quot;</span>);
    out.println(<span class="character">&quot;</span><span class="character">&lt;/tr&gt;</span><span class="character">&quot;</span>);

    out.println(<span class="character">&quot;</span><span class="character">&lt;tr&gt;</span><span class="character">&quot;</span>);
    out.println(<span class="character">&quot;</span><span class="character">&lt;td&gt;request.getAttribute(</span><span class="ST1">\&quot;</span><span class="character">name</span><span class="ST1">\&quot;</span><span class="character">)&lt;/td&gt;</span><span class="character">&quot;</span>);
<span class="info" title="tt-requestGetAttribute">    out.println(<span class="character">&quot;</span><span class="character">&lt;td&gt;</span><span class="character">&quot;</span> + request.getAttribute(<span class="character">&quot;</span><span class="character">name</span><span class="character">&quot;</span>) + <span class="character">&quot;</span><span class="character">&lt;/td&gt;</span><span class="character">&quot;</span>);</span>
    out.println(<span class="character">&quot;</span><span class="character">&lt;td&gt;set programatically using request.setAttribute&lt;/td&gt;</span><span class="character">&quot;</span>);
    out.println(<span class="character">&quot;</span><span class="character">&lt;/tr&gt;</span><span class="character">&quot;</span>);

    out.println(<span class="character">&quot;</span><span class="character">&lt;tr&gt;</span><span class="character">&quot;</span>);
    out.println(<span class="character">&quot;</span><span class="character">&lt;td&gt;session.getAttribute(</span><span class="ST1">\&quot;</span><span class="character">name</span><span class="ST1">\&quot;</span><span class="character">)&lt;/td&gt;</span><span class="character">&quot;</span>);
<span class="info" title="tt-sessionGetAttribute">    out.println(<span class="character">&quot;</span><span class="character">&lt;td&gt;</span><span class="character">&quot;</span> + request.getSession().getAttribute(<span class="character">&quot;</span><span class="character">name</span><span class="character">&quot;</span>) + <span class="character">&quot;</span><span class="character">&lt;/td&gt;</span><span class="character">&quot;</span>);</span>
    out.println(<span class="character">&quot;</span><span class="character">&lt;td&gt;set programatically using session.setAttribute&lt;/td&gt;</span><span class="character">&quot;</span>);
    out.println(<span class="character">&quot;</span><span class="character">&lt;/tr&gt;</span><span class="character">&quot;</span>);

    out.println(<span class="character">&quot;</span><span class="character">&lt;tr&gt;</span><span class="character">&quot;</span>);
    out.println(<span class="character">&quot;</span><span class="character">&lt;td&gt;servletConfig.getInitParameter(</span><span class="ST1">\&quot;</span><span class="character">name</span><span class="ST1">\&quot;</span><span class="character">)&lt;/td&gt;</span><span class="character">&quot;</span>);
<span class="info" title="tt-configGetParameter">    out.println(<span class="character">&quot;</span><span class="character">&lt;td&gt;</span><span class="character">&quot;</span> + getServletConfig().getInitParameter(<span class="character">&quot;</span><span class="character">name</span><span class="character">&quot;</span>) + <span class="character">&quot;</span><span class="character">&lt;/td&gt;</span><span class="character">&quot;</span>);</span>
    out.println(<span class="character">&quot;</span><span class="character">&lt;td&gt;Delcared in web.xml or as annotations in the servlet&lt;/td&gt;</span><span class="character">&quot;</span>);
    out.println(<span class="character">&quot;</span><span class="character">&lt;/tr&gt;</span><span class="character">&quot;</span>);

    out.println(<span class="character">&quot;</span><span class="character">&lt;tr&gt;</span><span class="character">&quot;</span>);
    out.println(<span class="character">&quot;</span><span class="character">&lt;td&gt;servletContext.getInitParameter(</span><span class="ST1">\&quot;</span><span class="character">name</span><span class="ST1">\&quot;</span><span class="character">)&lt;/td&gt;</span><span class="character">&quot;</span>);
<span class="info" title="tt-contextGetParameter">    out.println(<span class="character">&quot;</span><span class="character">&lt;td&gt;</span><span class="character">&quot;</span> + getServletContext().getInitParameter(<span class="character">&quot;</span><span class="character">name</span><span class="character">&quot;</span>) + <span class="character">&quot;</span><span class="character">&lt;/td&gt;</span><span class="character">&quot;</span>);</span>
    out.println(<span class="character">&quot;</span><span class="character">&lt;td&gt;Declared in web.xml&lt;/td&gt;</span><span class="character">&quot;</span>);
    out.println(<span class="character">&quot;</span><span class="character">&lt;/tr&gt;</span><span class="character">&quot;</span>);

    out.println(<span class="character">&quot;</span><span class="character">&lt;tr&gt;</span><span class="character">&quot;</span>);
    out.println(<span class="character">&quot;</span><span class="character">&lt;td&gt;servletContext.getAttribute(</span><span class="ST1">\&quot;</span><span class="character">name</span><span class="ST1">\&quot;</span><span class="character">)&lt;/td&gt;</span><span class="character">&quot;</span>);
<span class="info" title="tt-contextGetAttribute">    out.println(<span class="character">&quot;</span><span class="character">&lt;td&gt;</span><span class="character">&quot;</span> + getServletContext().getAttribute(<span class="character">&quot;</span><span class="character">name</span><span class="character">&quot;</span>) + <span class="character">&quot;</span><span class="character">&lt;/td&gt;</span><span class="character">&quot;</span>);</span>
    out.println(<span class="character">&quot;</span><span class="character">&lt;td&gt;set programatically using servletContext.setAttribute&lt;/td&gt;</span><span class="character">&quot;</span>);
    out.println(<span class="character">&quot;</span><span class="character">&lt;/tr&gt;</span><span class="character">&quot;</span>);

    out.println(<span class="character">&quot;</span><span class="character">&lt;/table&gt;</span><span class="character">&quot;</span>);
    out.println(<span class="character">&quot;</span><span class="character">&lt;/body&gt;</span><span class="character">&quot;</span>);
    out.println(<span class="character">&quot;</span><span class="character">&lt;a href=</span><span class="ST1">\&quot;</span><span class="character">home.html</span><span class="ST1">\&quot;</span><span class="character">&gt;Go Home&lt;/a&gt;</span><span class="character">&quot;</span>);
    out.println(<span class="character">&quot;</span><span class="character">&lt;/html&gt;</span><span class="character">&quot;</span>);
  }
}

    </pre>
    <div id="tt-overview">
      This servlet displays the value of the parameter/attribute "name" in all the 
      scopes available.<br>
      Parameters are values that are set before the servlet is called and are READ-ONLY.<br>
      Attributes are values that are set at some point in the request life-cycle and they can be READ AND WRITE to. 
    </div>
    <div id="tt-requestSet">
      Request Scope - Request Attribute:<br>
      Request attributes can be set by calling request.setAttribute(attributeName, attributeValue).<br>
      You can store any object inside an attribute.
    </div>
    <div id="tt-sessionSet">
      Session Scope - Session Attribute:<br>
      Session attributes can be set by calling session.setAttribute(attributeName, attributeValue).<br>
      You can store any object inside an attribute.<br>
      Note that sessions does NOT have parameters.
    </div>
    <div id="tt-contextSet">
      Application Scope - Context Attribute:<br>
      Context attributes can be set by calling context.setAttribute(attributeName, attributeValue).<br>
      You can store any object inside an attribute.
    </div>
    <div id="tt-requestGetParameter">
      Request Scope - Request Parameter: <br>
      Request parameters are set by the calling HTML Form or Link. They are retrieved using request.getParameter for single value parameters or request.getParameterValues for multiple value parameters.<br>      
      Parameters can only be Strings.
    </div>
    <div id="tt-requestGetAttribute">
      Request Scope - Request Attribute: <br>
      Attributes are set programmatically. To get an attribute use request.getAttribute.<br>
      Remember that since attributes can be any Object you will most likely need to cast it to the proper type.
    </div>
    <div id="tt-sessionGetAttribute">
      Session Scope - Session Attribute:<br>
      Attributes are set programmatically. To get an attribute use session.getAttribute.<br>
      Remember that since attributes can be any Object you will most likely need to cast it to the proper type.<br>
      Note that sessions does NOT have parameters.
    </div>
    <div id="tt-configGetParameter">
      Special Scope - Servlet Configuration:<br>
      Servlet configuration parameters are set using annotations or the web.xml file and are
      valid for the Servlet they are configured for.
      Parameters can only be Strings.<br>
      Note that Servlet configuarion does NOT have attributes.
    </div>
    <div id="tt-contextGetParameter">
      Application Scope - Context Parameter:<br>
      Context parameters are set in the web.xml file:
      <pre>
  <span class="xml-tag">&lt;context-param</span><span class="xml-tag">&gt;</span>
    <span class="xml-tag">&lt;param-name</span><span class="xml-tag">&gt;</span>name<span class="xml-tag">&lt;/param-name</span><span class="xml-tag">&gt;</span>
    <span class="xml-tag">&lt;param-value</span><span class="xml-tag">&gt;</span>AppName<span class="xml-tag">&lt;/param-value</span><span class="xml-tag">&gt;</span>
  <span class="xml-tag">&lt;/context-param</span><span class="xml-tag">&gt;</span>
      </pre>
      Parameters can only be Strings.
    </div>
    <div id="tt-contextGetAttribute">
      Application Scope - Context Attribute:<br>
      Attributes are set programmatically. To get an attribute use context.getAttribute.<br>
      Remember that since attributes can be any Object you will most likely need to cast it to the proper type.    
    </div>
    <p>
      <a href="../">Go back</a>
    </p>
  </body>
</html>
